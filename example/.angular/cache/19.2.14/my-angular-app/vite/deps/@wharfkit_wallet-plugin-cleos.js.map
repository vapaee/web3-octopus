{
  "version": 3,
  "sources": ["../../../../../../node_modules/@wharfkit/wallet-plugin-cleos/lib/wallet-plugin-cleos.m.js"],
  "sourcesContent": ["/**\n * @wharfkit/wallet-plugin-cleos v1.2.0\n * https://github.com/wharfkit/wallet-plugin-cleos\n *\n * @license\n * Copyright (c) 2023 Greymass Inc. All Rights Reserved.\n * \n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n * \n * 1.  Redistribution of source code must retain the above copyright notice, this\n *     list of conditions and the following disclaimer.\n * \n * 2.  Redistribution in binary form must reproduce the above copyright notice,\n *     this list of conditions and the following disclaimer in the documentation\n *     and/or other materials provided with the distribution.\n * \n * 3.  Neither the name of the copyright holder nor the names of its contributors\n *     may be used to endorse or promote products derived from this software without\n *     specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n * \n * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE\n * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.\n */\nimport { AbstractWalletPlugin, WalletPluginMetadata, TransactHookTypes, Serializer } from '@wharfkit/session';\nclass WalletPluginCleos extends AbstractWalletPlugin {\n  constructor() {\n    super(...arguments);\n    /**\n     * The logic configuration for the wallet plugin.\n     */\n    this.config = {\n      // Should the user interface display a chain selector?\n      requiresChainSelect: true,\n      // Should the user interface display a permission selector?\n      requiresPermissionSelect: false,\n      // Should the user interface require input for the permission?\n      requiresPermissionEntry: true\n    };\n    /**\n     * The metadata for the wallet plugin to be displayed in the user interface.\n     */\n    this.metadata = WalletPluginMetadata.from({\n      name: 'cleos',\n      description: 'Copy and paste the transactions to sign in cleos.',\n      logo: 'data:image/png;base64,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',\n      homepage: 'https://github.com/antelopeio/leap',\n      download: 'https://github.com/antelopeio/leap'\n    });\n  }\n  /**\n   * A unique string identifier for this wallet plugin.\n   *\n   * It's recommended this is all lower case, no spaces, and only URL-friendly special characters (dashes, underscores, etc)\n   */\n  get id() {\n    return 'cleos';\n  }\n  /**\n   * Performs the wallet logic required to login and return the chain and permission level to use.\n   *\n   * @param options WalletPluginLoginOptions\n   * @returns Promise<WalletPluginLoginResponse>\n   */\n  async login(context) {\n    if (!context.chain) {\n      throw new Error('The cleos wallet plugin requires a chain to be selected.');\n    }\n    if (!context.permissionLevel) {\n      throw new Error('The cleos wallet plugin requires a permissionLevel to be specified.');\n    }\n    return {\n      chain: context.chain.id,\n      permissionLevel: context.permissionLevel\n    };\n  }\n  /**\n   * Performs the wallet logic required to sign a transaction and return the signature.\n   *\n   * @param chain ChainDefinition\n   * @param resolved ResolvedSigningRequest\n   * @returns Promise<Signature>\n   */\n  async sign(resolved, context) {\n    if (!context.ui) {\n      throw new Error('The cleos wallet plugin requires a UI to be provided.');\n    }\n    // During the signing process, add a hook to display the cleos command to the user\n    context.addHook(TransactHookTypes.afterSign, async () => {\n      // Decode the transaction to be human readable\n      const actions = [];\n      for (const action of resolved.transaction.actions) {\n        const abi = await context.abiCache.getAbi(action.account);\n        actions.push({\n          account: action.account,\n          name: action.name,\n          authorization: action.authorization,\n          data: Serializer.objectify(action.decodeData(abi))\n        });\n      }\n      const decoded = {\n        ...resolved.transaction,\n        actions\n      };\n      // Create the cleos command that will be used to sign the transaction\n      const command = `cleos -u ${context.chain.url} push transaction '${JSON.stringify(decoded, null, 4)}'`;\n      // Prompt the user with the command to sign the transaction\n      await context.ui?.prompt({\n        title: 'Sign with cleos',\n        body: 'Copy the command to sign the transaction using cleos.',\n        elements: [{\n          type: 'textarea',\n          data: {\n            content: command\n          }\n        }, {\n          type: 'button',\n          data: {\n            label: 'Copy to clipboard',\n            onClick: () => {\n              // Ensure the copy to clipboard will work\n              if (!navigator.clipboard || !window.isSecureContext) {\n                alert('Copy to clipboard is not supported in this browser. Please copy the command manually.');\n              } else {\n                navigator.clipboard.writeText(command);\n              }\n            }\n          }\n        }]\n      });\n    });\n    // Return no signatures, as the cleos command will be used to sign the transaction\n    return {\n      signatures: []\n    };\n  }\n}\nexport { WalletPluginCleos };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAoCA,IAAM,oBAAN,cAAgC,qBAAqB;AAAA,EACnD,cAAc;AACZ,UAAM,GAAG,SAAS;AAIlB,SAAK,SAAS;AAAA;AAAA,MAEZ,qBAAqB;AAAA;AAAA,MAErB,0BAA0B;AAAA;AAAA,MAE1B,yBAAyB;AAAA,IAC3B;AAIA,SAAK,WAAW,qBAAqB,KAAK;AAAA,MACxC,MAAM;AAAA,MACN,aAAa;AAAA,MACb,MAAM;AAAA,MACN,UAAU;AAAA,MACV,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,KAAK;AACP,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOM,MAAM,SAAS;AAAA;AACnB,UAAI,CAAC,QAAQ,OAAO;AAClB,cAAM,IAAI,MAAM,0DAA0D;AAAA,MAC5E;AACA,UAAI,CAAC,QAAQ,iBAAiB;AAC5B,cAAM,IAAI,MAAM,qEAAqE;AAAA,MACvF;AACA,aAAO;AAAA,QACL,OAAO,QAAQ,MAAM;AAAA,QACrB,iBAAiB,QAAQ;AAAA,MAC3B;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQM,KAAK,UAAU,SAAS;AAAA;AAC5B,UAAI,CAAC,QAAQ,IAAI;AACf,cAAM,IAAI,MAAM,uDAAuD;AAAA,MACzE;AAEA,cAAQ,QAAQ,kBAAkB,WAAW,MAAY;AAEvD,cAAM,UAAU,CAAC;AACjB,mBAAW,UAAU,SAAS,YAAY,SAAS;AACjD,gBAAM,MAAM,MAAM,QAAQ,SAAS,OAAO,OAAO,OAAO;AACxD,kBAAQ,KAAK;AAAA,YACX,SAAS,OAAO;AAAA,YAChB,MAAM,OAAO;AAAA,YACb,eAAe,OAAO;AAAA,YACtB,MAAM,WAAW,UAAU,OAAO,WAAW,GAAG,CAAC;AAAA,UACnD,CAAC;AAAA,QACH;AACA,cAAM,UAAU,iCACX,SAAS,cADE;AAAA,UAEd;AAAA,QACF;AAEA,cAAM,UAAU,YAAY,QAAQ,MAAM,GAAG,sBAAsB,KAAK,UAAU,SAAS,MAAM,CAAC,CAAC;AAEnG,cAAM,QAAQ,IAAI,OAAO;AAAA,UACvB,OAAO;AAAA,UACP,MAAM;AAAA,UACN,UAAU,CAAC;AAAA,YACT,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,SAAS;AAAA,YACX;AAAA,UACF,GAAG;AAAA,YACD,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO;AAAA,cACP,SAAS,MAAM;AAEb,oBAAI,CAAC,UAAU,aAAa,CAAC,OAAO,iBAAiB;AACnD,wBAAM,uFAAuF;AAAA,gBAC/F,OAAO;AACL,4BAAU,UAAU,UAAU,OAAO;AAAA,gBACvC;AAAA,cACF;AAAA,YACF;AAAA,UACF,CAAC;AAAA,QACH,CAAC;AAAA,MACH,EAAC;AAED,aAAO;AAAA,QACL,YAAY,CAAC;AAAA,MACf;AAAA,IACF;AAAA;AACF;",
  "names": []
}
